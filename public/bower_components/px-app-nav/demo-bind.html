<!DOCTYPE html>
<html>

  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <title>px-app-nav Demo</title>
    <!-- Requires Webcomponents.js polyfill is provided by the page for browsers that don't support html imports -->
    <script src="../webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="../polymer/polymer.html"/>

    <!-- Import custom element. Note: see comment about relative paths to dependencies in the *.html file referenced below -->
    <link rel="import" href="../px-theme/px-theme.html"/>

    <link rel="import" href="px-app-nav.html" />
    <link rel="import" href="../px-login/px-login.html" />
    <link rel="import" href="../iron-ajax/iron-ajax.html" />

    <style is="custom-style">
      html {
        height: 100%;
        font-size: .9375rem;
      }
      body {
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-flex-direction: column;
        -ms-flex-direction: column;
        flex-direction: column;
        height: 100%;
        margin: 0;
      }
      .demo {
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-flex: 1 0 auto;
        -ms-flex: 1 0 auto;
        flex: 1 0 auto;
        -webkit-flex-direction: row;
        -ms-flex-direction: row;
        flex-direction: row;
      }
      .demo-body {
        -webkit-flex: 1;
        -ms-flex: 1;
        flex: 1;
        margin: 1em;
      }

    </style>
  </head>

  <body>
    <div class="demo">
      <template is="dom-bind">
          <iron-ajax  handle-as="json" auto url="nav.json" last-response="{{data}}"></iron-ajax>

          <px-app-nav
          nav-items='{{data}}'>
          <px-login></px-login>
        </px-app-nav>
      </template>

      <div class="demo-body">
        <h3>Demo</h3>
        <p>Although related, examples are /not/ the same as the test fixtures. Tests are tests, examples are examples.</p>
        <p>
          Also see the
          <a href="index.html">documentation</a>
          and the
          <a href="test/fixture.html">UI test fixture</a>.
        </p>

        <script>
          window.addEventListener("firstItem", function(evt) {
            console.log("Event 'firstItem' attached to a nav item via the 'eventName' prop was fired.");
          });

          window.addEventListener("subitemTwo", function(evt) {
            console.log("Event 'subitemTwo' attached to a nav item via the 'eventName' prop was fired.");
          });


          function doMarkSelected() {
            var appNavEl = document.querySelector('px-app-nav');
            appNavEl.markSelected(window.location.href);
          }
        </script>

        <button onclick="doMarkSelected()">Mark selected</button>
      </div>
    </div>
  </body>

</html>
